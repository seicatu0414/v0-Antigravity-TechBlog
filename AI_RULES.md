# AI ルールと指示

このドキュメントは、このプロジェクトで作業する際のAIアシスタント(Antigravity)のためのルールと指示をまとめたものです。

## 1. コーディング規約 (Coding Conventions)
- **言語**: TypeScript (オブジェクト定義には `interface` を使用し、型定義を厳密に行うこと)。
- **スタイル**: プロジェクトで設定されている Prettier/ESLint のルールに従うこと。
- **コンポーネント**: 関数コンポーネントと Hooks を使用すること。アロー関数 `const Component = () => {}` を推奨する。
- **命名規則**:
  - 変数/関数: `camelCase` (キャメルケース)
  - コンポーネント/ファイル名: `PascalCase` (パスカルケース) (例: `MyComponent.tsx`)
  - 定数: `UPPER_SNAKE_CASE` (アッパースネークケース)

## 2. 技術スタック (Tech Stack)
- **フレームワーク**: Next.js (App Router)
- **スタイリング**: Tailwind CSS
- **状態管理**: Redux
- **データベース/ORM**: Prisma

## 3. プロジェクト構成 (Project Structure)
- `/app`: Next.js App Router のページとレイアウト。
- `/components`: 再利用可能な UI コンポーネント。
  - `/ui`: 基本的な UI 要素 (ボタン、入力フォームなど)。
- `/lib`: ユーティリティ関数と共有ロジック。
- `/hooks`: カスタム React Hooks。

## 4. セキュリティ対策
- セキュリティを常に意識し以下のセキュリティ対策を常に意識すること
- XSS（クロスサイトスクリプティング）対策
- SQLインジェクション対策
- CSRF対策
- CORS
- クロスオリジンリソース共有
- セキュリティヘッダー
- セキュアログ
- AWS認証情報管理(Secrets Managerからの認証情報取得)

## 5. その他の指示 (Specific Instructions)
- コード内でハードコーディングしないこと。(特にユーザーがコード検証できる位置では絶対にしないこと)
- コンソールログなどのコンソールを使用する場合は機密情報の自動マスキングを行うこと
- アクセシビリティ (a11y) を常に考慮すること。
- コード内のコメントは日本語で記述すること。
- 新しいコンポーネントを作成する際は、適切な `components` ディレクトリ配下に配置すること。
- Session内の内容は全て日本語で回答すること
- 会話の最後に不要になったコードを探し出し必ず消すこと

## 6. パッケージ管理 (Package Management)
- **パッケージマネージャー**: `pnpm` を使用すること。`npm` や `yarn` は使用しない。
- **ロックファイル**: `pnpm-lock.yaml` のみを管理し、`package-lock.json` や `yarn.lock` は生成・コミットしない。
- **依存関係の更新**: `package.json` に変更を加えた場合（新しいパッケージの追加など）、必ず `pnpm install` を実行して `pnpm-lock.yaml` を更新すること。

